using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Audio;
using Microsoft.Xna.Framework.Content;
using Microsoft.Xna.Framework.GamerServices;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework.Input;
using Microsoft.Xna.Framework.Media;
namespace RedStream
{
    public static class RsGameInfo
    {
        public static int iWave = 1;
        public static float Money = 10000, Score = 0;
        public static RsGyroscope Gyroscope = null;
        public static RsPlanet Planet = null;
        public static List<DescDataPair<RsTowerData>> TowerData = new List<DescDataPair<RsTowerData>>();
        public static Song Song;
        public static void Init()
        {
            RedStream.Game.Components.Clear();
            RsStateManager.Push(new RsMainMenuState());
            /* Play our kickass song */
            Song = RedStream.Content.GetSong("lolninjachange");
            MediaPlayer.IsRepeating = true;
            MediaPlayer.Play(Song);

            RsCamera.Desc cdesc = new RsCamera.Desc();
            cdesc.Pos = new Vector3(0.0f, 0, 100.0f);
            cdesc.FarViewPlane = 1500;
            cdesc.AspectRatio = RedStream.Graphics.graphics.GraphicsDevice.Viewport.AspectRatio;
            RedStream.Scene.Camera = new RsCamera(cdesc);
            //gyroscope
            DescDataPair<RsGyroscopeData> gyroPair = new DescDataPair<RsGyroscopeData>("World\\Gyroscope");
            Gyroscope = new RsGyroscope(gyroPair.Desc, gyroPair.Data);

            //planet
            DescDataPair<RsPlanetData> pair = new DescDataPair<RsPlanetData>("Planets\\MainPlanet");
            pair.Desc.Pos = Vector3.Zero;
            Planet = new RsPlanet(pair.Desc, pair.Data);

            //skysphere
            RsActor.Desc pdesc = new RsActor.Desc("SkySphere");
            new RsActor(pdesc);

            //the spot light
            RsLight.Desc ldesc = new RsLight.Desc("Spotlight");
            ldesc.Pos = new Vector3(0, 100, 0);
            new RsLight(ldesc);

            //add tower descs
            TowerData.Add(new DescDataPair<RsTowerData>("Buildings\\ArrowTower"));
            TowerData.Add(new DescDataPair<RsTowerData>("Buildings\\PDT"));
            TowerData.Add(new DescDataPair<RsTowerData>("Buildings\\LaserTower"));
        }
    }
}
